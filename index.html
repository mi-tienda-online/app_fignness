<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SpinFit Pro - Tu Entrenador Personal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .pulse-animation { animation: pulse 2s infinite; }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        .timer-circle {
            stroke-dasharray: 283;
            stroke-dashoffset: 283;
            transition: stroke-dashoffset 1s linear;
        }
        .spinning-bike {
            animation: spin 2s linear infinite;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen">
    <!-- Header -->
    <header class="gradient-bg py-6">
        <div class="max-w-6xl mx-auto px-6">
            <h1 class="text-4xl font-bold text-center flex items-center justify-center gap-3">
                <span class="text-5xl">üö¥‚Äç‚ôÄÔ∏è</span>
                SpinFit Pro
                <span class="text-5xl">üö¥‚Äç‚ôÇÔ∏è</span>
            </h1>
            <p class="text-center text-xl opacity-90 mt-2">Tu entrenador personal de spinning</p>
        </div>
    </header>

    <!-- Main App -->
    <main class="max-w-6xl mx-auto px-6 py-8">
        
        <!-- Timer Selection -->
        <section id="timer-selection" class="mb-8">
            <h2 class="text-2xl font-bold mb-6 text-center">‚è±Ô∏è Selecciona tu Entrenamiento</h2>
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
                <button onclick="startWorkout(10)" class="bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 p-4 rounded-xl font-bold transition-all transform hover:scale-105">
                    <div class="text-2xl mb-2">‚ö°</div>
                    <div>10 min</div>
                    <div class="text-sm opacity-80">R√°pido</div>
                </button>
                <button onclick="startWorkout(20)" class="bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 p-4 rounded-xl font-bold transition-all transform hover:scale-105">
                    <div class="text-2xl mb-2">üî•</div>
                    <div>20 min</div>
                    <div class="text-sm opacity-80">Intenso</div>
                </button>
                <button onclick="startWorkout(30)" class="bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 p-4 rounded-xl font-bold transition-all transform hover:scale-105">
                    <div class="text-2xl mb-2">üí™</div>
                    <div>30 min</div>
                    <div class="text-sm opacity-80">Fuerte</div>
                </button>
                <button onclick="startWorkout(45)" class="bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 p-4 rounded-xl font-bold transition-all transform hover:scale-105">
                    <div class="text-2xl mb-2">üöÄ</div>
                    <div>45 min</div>
                    <div class="text-sm opacity-80">Avanzado</div>
                </button>
                <button onclick="startWorkout(60)" class="bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 p-4 rounded-xl font-bold transition-all transform hover:scale-105">
                    <div class="text-2xl mb-2">üèÜ</div>
                    <div>1 hora</div>
                    <div class="text-sm opacity-80">√âpico</div>
                </button>
                <button onclick="showCustomTimer()" class="bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 p-4 rounded-xl font-bold transition-all transform hover:scale-105">
                    <div class="text-2xl mb-2">‚öôÔ∏è</div>
                    <div>Custom</div>
                    <div class="text-sm opacity-80">Personalizado</div>
                </button>
            </div>
        </section>

        <!-- Custom Timer Input -->
        <section id="custom-timer" class="mb-8 hidden">
            <div class="bg-gray-800 rounded-xl p-6 max-w-md mx-auto">
                <h3 class="text-xl font-bold mb-4 text-center">‚öôÔ∏è Tiempo Personalizado</h3>
                <div class="flex items-center gap-4 mb-4">
                    <input type="number" id="custom-minutes" min="1" max="120" value="15" class="bg-gray-700 text-white px-4 py-2 rounded-lg w-20 text-center">
                    <span>minutos</span>
                </div>
                <div class="flex gap-3">
                    <button onclick="startCustomWorkout()" class="bg-green-600 hover:bg-green-700 px-6 py-2 rounded-lg font-bold flex-1">
                        Iniciar
                    </button>
                    <button onclick="hideCustomTimer()" class="bg-gray-600 hover:bg-gray-700 px-6 py-2 rounded-lg font-bold">
                        Cancelar
                    </button>
                </div>
            </div>
        </section>

        <!-- Workout Interface -->
        <section id="workout-interface" class="hidden">
            <!-- Timer Display -->
            <div class="text-center mb-8">
                <div class="relative inline-block">
                    <svg class="w-64 h-64 transform -rotate-90" viewBox="0 0 100 100">
                        <circle cx="50" cy="50" r="45" stroke="rgba(255,255,255,0.1)" stroke-width="8" fill="none"/>
                        <circle id="timer-progress" cx="50" cy="50" r="45" stroke="#10B981" stroke-width="8" fill="none" 
                                class="timer-circle" stroke-linecap="round"/>
                    </svg>
                    <div class="absolute inset-0 flex flex-col items-center justify-center">
                        <div id="time-display" class="text-4xl font-bold">00:00</div>
                        <div class="text-sm opacity-70">restante</div>
                    </div>
                </div>
            </div>

            <!-- Status and Motivation -->
            <div class="text-center mb-8">
                <div id="workout-status" class="text-2xl font-bold mb-2">üö¥‚Äç‚ôÄÔ∏è ¬°Pedaleando!</div>
                <div id="motivation-text" class="text-lg opacity-80">¬°T√∫ puedes lograrlo!</div>
            </div>

            <!-- Stats Dashboard -->
            <div class="grid md:grid-cols-3 gap-6 mb-8">
                <!-- Calories Burned -->
                <div class="bg-gradient-to-r from-red-600 to-red-700 rounded-xl p-6 text-center">
                    <div class="text-3xl mb-2">üî•</div>
                    <div class="text-2xl font-bold" id="calories-burned">0</div>
                    <div class="text-sm opacity-80">Calor√≠as Quemadas</div>
                </div>

                <!-- Time Elapsed -->
                <div class="bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl p-6 text-center">
                    <div class="text-3xl mb-2">‚è±Ô∏è</div>
                    <div class="text-2xl font-bold" id="time-elapsed">00:00</div>
                    <div class="text-sm opacity-80">Tiempo Transcurrido</div>
                </div>

                <!-- Progress -->
                <div class="bg-gradient-to-r from-green-600 to-green-700 rounded-xl p-6 text-center">
                    <div class="text-3xl mb-2">üìä</div>
                    <div class="text-2xl font-bold" id="progress-percent">0%</div>
                    <div class="text-sm opacity-80">Progreso</div>
                </div>
            </div>

            <!-- Control Buttons -->
            <div class="flex justify-center gap-4 mb-8">
                <button id="pause-btn" onclick="pauseWorkout()" class="bg-yellow-600 hover:bg-yellow-700 px-8 py-3 rounded-xl font-bold transition-all">
                    ‚è∏Ô∏è Pausar
                </button>
                <button id="resume-btn" onclick="resumeWorkout()" class="bg-green-600 hover:bg-green-700 px-8 py-3 rounded-xl font-bold transition-all hidden">
                    ‚ñ∂Ô∏è Continuar
                </button>
                <button onclick="stopWorkout()" class="bg-red-600 hover:bg-red-700 px-8 py-3 rounded-xl font-bold transition-all">
                    ‚èπÔ∏è Terminar
                </button>
            </div>

            <!-- Spinning Animation -->
            <div class="text-center">
                <div class="text-8xl spinning-bike inline-block">üö¥‚Äç‚ôÄÔ∏è</div>
            </div>
        </section>

        <!-- Workout Complete -->
        <section id="workout-complete" class="hidden text-center">
            <div class="bg-gradient-to-r from-green-600 to-green-700 rounded-2xl p-12 max-w-2xl mx-auto">
                <div class="text-6xl mb-6">üèÜ</div>
                <h2 class="text-4xl font-bold mb-4">¬°Felicitaciones!</h2>
                <p class="text-xl mb-6">Has completado tu entrenamiento de spinning</p>
                
                <div class="grid md:grid-cols-2 gap-6 mb-8">
                    <div class="bg-white/20 rounded-xl p-4">
                        <div class="text-2xl font-bold" id="final-time">0 min</div>
                        <div class="text-sm opacity-80">Tiempo Total</div>
                    </div>
                    <div class="bg-white/20 rounded-xl p-4">
                        <div class="text-2xl font-bold" id="final-calories">0 cal</div>
                        <div class="text-sm opacity-80">Calor√≠as Quemadas</div>
                    </div>
                </div>

                <button onclick="resetApp()" class="bg-white text-green-700 px-8 py-3 rounded-xl font-bold hover:bg-gray-100 transition-all">
                    üîÑ Nuevo Entrenamiento
                </button>
            </div>
        </section>

    </main>

    <script>
        // App State
        let workoutState = {
            isActive: false,
            isPaused: false,
            totalMinutes: 0,
            remainingSeconds: 0,
            elapsedSeconds: 0,
            caloriesBurned: 0,
            timer: null,
            caloriesPerMinute: 8 // Promedio de calor√≠as por minuto en spinning
        };

        // Voice announcements
        function speak(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'es-ES';
                utterance.rate = 0.9;
                utterance.pitch = 1.1;
                speechSynthesis.speak(utterance);
            }
        }

        // Show/Hide sections
        function showSection(sectionId) {
            document.querySelectorAll('main > section').forEach(section => {
                section.classList.add('hidden');
            });
            document.getElementById(sectionId).classList.remove('hidden');
        }

        // Custom timer functions
        function showCustomTimer() {
            document.getElementById('custom-timer').classList.remove('hidden');
        }

        function hideCustomTimer() {
            document.getElementById('custom-timer').classList.add('hidden');
        }

        function startCustomWorkout() {
            const minutes = parseInt(document.getElementById('custom-minutes').value);
            if (minutes > 0) {
                startWorkout(minutes);
                hideCustomTimer();
            }
        }

        // Start workout
        function startWorkout(minutes) {
            workoutState.totalMinutes = minutes;
            workoutState.remainingSeconds = minutes * 60;
            workoutState.elapsedSeconds = 0;
            workoutState.caloriesBurned = 0;
            workoutState.isActive = true;
            workoutState.isPaused = false;

            showSection('workout-interface');
            updateDisplay();
            startTimer();
            
            speak(`Comenzando entrenamiento de ${minutes} minutos. ¬°Vamos a quemar calor√≠as!`);
        }

        // Timer functions
        function startTimer() {
            workoutState.timer = setInterval(() => {
                if (!workoutState.isPaused && workoutState.remainingSeconds > 0) {
                    workoutState.remainingSeconds--;
                    workoutState.elapsedSeconds++;
                    
                    // Update calories (every second)
                    workoutState.caloriesBurned = Math.round((workoutState.elapsedSeconds / 60) * workoutState.caloriesPerMinute);
                    
                    updateDisplay();
                    checkMilestones();
                    
                    if (workoutState.remainingSeconds === 0) {
                        completeWorkout();
                    }
                }
            }, 1000);
        }

        function pauseWorkout() {
            workoutState.isPaused = true;
            document.getElementById('pause-btn').classList.add('hidden');
            document.getElementById('resume-btn').classList.remove('hidden');
            speak('Entrenamiento pausado');
        }

        function resumeWorkout() {
            workoutState.isPaused = false;
            document.getElementById('pause-btn').classList.remove('hidden');
            document.getElementById('resume-btn').classList.add('hidden');
            speak('Continuando entrenamiento');
        }

        function stopWorkout() {
            if (confirm('¬øEst√°s seguro de que quieres terminar el entrenamiento?')) {
                clearInterval(workoutState.timer);
                workoutState.isActive = false;
                completeWorkout();
            }
        }

        function completeWorkout() {
            clearInterval(workoutState.timer);
            workoutState.isActive = false;
            
            // Update final stats
            document.getElementById('final-time').textContent = `${Math.round(workoutState.elapsedSeconds / 60)} min`;
            document.getElementById('final-calories').textContent = `${workoutState.caloriesBurned} cal`;
            
            showSection('workout-complete');
            speak('¬°Lo lograste! Entrenamiento completado. ¬°Excelente trabajo!');
        }

        // Update display
        function updateDisplay() {
            const minutes = Math.floor(workoutState.remainingSeconds / 60);
            const seconds = workoutState.remainingSeconds % 60;
            const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            const elapsedMinutes = Math.floor(workoutState.elapsedSeconds / 60);
            const elapsedSecondsRemainder = workoutState.elapsedSeconds % 60;
            const elapsedString = `${elapsedMinutes.toString().padStart(2, '0')}:${elapsedSecondsRemainder.toString().padStart(2, '0')}`;
            
            const progress = ((workoutState.totalMinutes * 60 - workoutState.remainingSeconds) / (workoutState.totalMinutes * 60)) * 100;
            
            document.getElementById('time-display').textContent = timeString;
            document.getElementById('time-elapsed').textContent = elapsedString;
            document.getElementById('calories-burned').textContent = workoutState.caloriesBurned;
            document.getElementById('progress-percent').textContent = `${Math.round(progress)}%`;
            
            // Update circular progress
            const circumference = 283;
            const offset = circumference - (progress / 100) * circumference;
            document.getElementById('timer-progress').style.strokeDashoffset = offset;
        }

        // Check milestones for voice announcements
        function checkMilestones() {
            const elapsedMinutes = Math.floor(workoutState.elapsedSeconds / 60);
            const remainingSeconds = workoutState.remainingSeconds;
            
            // Milestone announcements
            if (workoutState.elapsedSeconds === 5 * 60) { // 5 minutes
                speak('Llevas 5 minutos. ¬°Excelente inicio!');
                updateMotivation('üî• ¬°5 minutos completados!');
            } else if (workoutState.elapsedSeconds === 15 * 60) { // 15 minutes
                speak('Llevas 15 minutos. ¬°Vas muy bien!');
                updateMotivation('üí™ ¬°15 minutos de puro poder!');
            } else if (remainingSeconds === 30) { // 30 seconds left
                speak('Casi lo logras, faltan 30 segundos. ¬°Dale todo!');
                updateMotivation('‚ö° ¬°√öltimos 30 segundos!');
            } else if (remainingSeconds === 60) { // 1 minute left
                speak('Falta 1 minuto. ¬°El final est√° cerca!');
                updateMotivation('üèÅ ¬°√öltimo minuto!');
            } else if (remainingSeconds === 5 * 60) { // 5 minutes left
                speak('Faltan 5 minutos. ¬°Mant√©n el ritmo!');
                updateMotivation('üöÄ ¬°√öltimos 5 minutos!');
            }
        }

        function updateMotivation(text) {
            document.getElementById('motivation-text').textContent = text;
            setTimeout(() => {
                document.getElementById('motivation-text').textContent = '¬°T√∫ puedes lograrlo!';
            }, 3000);
        }

        // Reset app
        function resetApp() {
            clearInterval(workoutState.timer);
            workoutState = {
                isActive: false,
                isPaused: false,
                totalMinutes: 0,
                remainingSeconds: 0,
                elapsedSeconds: 0,
                caloriesBurned: 0,
                timer: null,
                caloriesPerMinute: 8
            };
            
            document.getElementById('pause-btn').classList.remove('hidden');
            document.getElementById('resume-btn').classList.add('hidden');
            
            showSection('timer-selection');
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            showSection('timer-selection');
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'981d15c7b608e510',t:'MTc1ODMyNjg3Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
